var theCockTailDB_ENDPOINT = 'https://www.thecocktaildb.com/api/json/v1/1/search.php';
var byIndex = 'https://www.thecocktaildb.com/api/json/v1/1/lookup.php';

var state = {
	items: []
}

/*
var example = { 
	people:[
    {
    name: 'a75',
    item1: false,
    item2: false},
	{
    name: 'z32',
    item1: true,
    item2: false},
	{
    name: 'e77',
    item1: false,
    item2: false},
    {
    name: 'd77',
    item1: false,
    item2: false},
    {
    name: 'f77',
    item1: false,
    item2: false},
    ],
}
console.log(example.people);

console.log(example.people.sort(function(a,b) {
	return (a.name > b.name) ? 1 : ((b.name > a.name) ? -1 : 0);
})); 
*/

function getDataFromApi(searchTerm, callback) {
  var query = {
    key: 1,
    s: searchTerm
  }
  $.getJSON(theCockTailDB_ENDPOINT, query, callback);

}

function getDataByIndex(searchTerm) {
	for (var o = 0; o <= theCocktailDBIdDump.length -1; o++) {

		var query = {
			key: 1,
			i: theCocktailDBIdDump[o]
		}

		$.getJSON(byIndex, query, function(data){
			if (checkIfData(data)){
				state.items.push({
					id: data.drinks[0].idDrink,
					name: data.drinks[0].strDrink
				});
			}
		});
		
	}	
	console.log(state.items.sort(function(a,b) {
		return (a.name > b.name) ? 1 : ((b.name > a.name) ? -1 : 0);
	})); 

}

function renderResult(result) {
  return `
    <div class="col-4">
      <p> ${result.strDrink}</p>
      <img class="drink-image" src=${result.strDrinkThumb} width="200">
    </div>
  `;
}

function displaySearchData(data) {
	var results = data.drinks.map(function(item, index) {
    	return renderResult(item)
  	});
  	var sortedResults = results.sort();
    $('.js-search-results').html(sortedResults);	
}

function checkIfData (data) {
	if (data.drinks === null) {
		return false;
	} else {
		return true;
	}
}

function watchSubmit() {
  $('.js-search-form').submit(function(event) {
    event.preventDefault();
    var queryTarget = $(event.currentTarget).find('.js-query');
    var query = queryTarget.val();
    // clear out the input
    queryTarget.val("");
    getDataByIndex(query);
  });
}

$(watchSubmit);


var theCocktailDBIdDump = [
11000,
11001,
11003,
11121,
11005,
11008,
11002,
11014,
11007,
11004,
11011,
11009,
11006,
11010,
11024,
11020,
11022,
11019,
11029,
11026,
11025,
11023,
11016,
11013,
11021,
11027,
11012,
11053,
11052,
11055,
11054,
11034,
11046,
11064,
11084,
11050,
11060,
11117,
11113,
11102,
11118,
11120,
11119,
11112,
11106,
11128,
11129,
11124,
11164,
11157,
11170,
11146,
11145,
11149,
11147,
11028,
11205,
11202,
11222,
11239,
11227,
11242,
11243,
11255,
11224,
11251,
11288,
11291,
11320,
11326,
11324,
11339,
11338,
11369,
11368,
11375,
11379,
11382,
11387,
11391,
11390,
11396,
11408,
11417,
11416,
11407,
11410,
11418,
11424,
11419,
11422,
11423,
11415,
11433,
11420,
11470,
11462,
11476,
11472,
11528,
11542,
11558,
11524,
11566,
11403,
11580,
11600,
11604,
11602,
11634,
11662,
11668,
11666,
11664,
11658,
11670,
11690,
11720,
11728,
11766,
11786,
11798,
11844,
11870,
11872,
11938,
11959,
11936,
11961,
11965,
11963,
11983,
11985,
11993,
11987,
11989,
11991,
12055,
12057,
12067,
12087,
12071,
12097,
12089,
12093,
12091,
12101,
12107,
12130,
12162,
12138,
12158,
12127,
12188,
12186,
12196,
12198,
12190,
12214,
12224,
12256,
12308,
12322,
12316,
12370,
12362,
12388,
12402,
12418,
12434,
12446,
12452,
12420,
12436,
12450,
12518,
12442,
12444,
12516,
12460,
12564,
12618,
12572,
12562,
12696,
12668,
12474,
12716,
12560,
12720,
12528,
12722,
12712,
12736,
12728,
12758,
12768,
12766,
12792,
12754,
12782,
12708,
12732,
12776,
12656,
12658,
12654,
12672,
12670,
12674,
12796,
12702,
12630,
12762,
12690,
12756,
12798,
12698,
12752,
12746,
12800,
12726,
12764,
12748,
12694,
12820,
12710,
12794,
12714,
12734,
12738,
12760,
12724,
12730,
12750,
12704,
12706,
12692,
12688,
12718,
12744,
12770,
12772,
12774,
12784,
12780,
12786,
12790,
12856,
12802,
12808,
12864,
12870,
12876,
12854,
12862,
12890,
12988,
12910,
12914,
12916,
12944,
12954,
13026,
13020,
13024,
13042,
13060,
13032,
13056,
13036,
13058,
13086,
13066,
13072,
13068,
13070,
13128,
13190,
13192,
13204,
13254,
13196,
13198,
13206,
13202,
13200,
13194,
13162,
13214,
13222,
13282,
13328,
13377,
13332,
13395,
13427,
13423,
13389,
13499,
13535,
13539,
13497,
13405,
13581,
13501,
13625,
13675,
13683,
13731,
13751,
13775,
13839,
13837,
13807,
13621,
13861,
13899,
13940,
13938,
13936,
13825,
13847,
13971,
13026,
13024,
13032,
13020,
13036,
13042,
13056,
13058,
13066,
13072,
13068,
13060,
13070,
13086,
13128,
13162,
13192,
13190,
13204,
13202,
13196,
13200,
13194,
13198,
13206,
13214,
13222,
13254,
13282,
13328,
13332,
13377,
13389,
13395,
13405,
13427,
13423,
13497,
13499,
13501,
13535,
13539,
13581,
13625,
13621,
13683,
13675,
13731,
13751,
13775,
13807,
13825,
13837,
13839,
13847,
13861,
13899,
13938,
13940,
13936,
13971,
14029,
14065,
14053,
14095,
14071,
14087,
14107,
14133,
14167,
14181,
14157,
14195,
14209,
14229,
14272,
14282,
14306,
14356,
14378,
14372,
14366,
14374,
14456,
14446,
14360,
14482,
14364,
14510,
14564,
14560,
14602,
14688,
14578,
14598,
14610,
14588,
14594,
14584,
14466,
14730,
14538,
14608,
14752,
14782,
14622,
14586,
14642,
14842,
14860,
14888,
14956,
14978,
15006,
15024,
15026,
15082,
15086,
15092,
15106,
15182,
15178,
15184,
15200,
15194,
15224,
15226,
15254,
15266,
15288,
15300,
15328,
15330,
15346,
15395,
15409,
15403,
15423,
15427,
15511,
15515,
15521,
15549,
15567,
15675,
15691,
15743,
15761,
15789,
15801,
15813,
15597,
15615,
15825,
15639,
15841,
15849,
15853,
15933,
15941,
15951,
15997,
16031,
16041,
16047,
16082,
16108,
16100,
16134,
16196,
16158,
16176,
16178,
16202,
16262,
16250,
16289,
16275,
16311,
16295,
16273,
16333,
16271,
16354,
16405,
16419,
16403,
16485,
16447,
16942,
16943,
16951,
16958,
16963,
16967,
16984,
16986,
16992,
16990,
16985,
16987,
16991,
16995,
16998,
17002,
17006,
17005,
17027,
17015,
17020,
17035,
17044,
17060,
17074,
17066,
17108,
17105,
17079,
17122,
17120,
17118,
17065,
17094,
17135,
17114,
17178,
17184,
17167,
17177,
17183,
17181,
17180,
17168,
17141,
17179,
17174,
17182,
17176,
17175,
17185,
17188,
17186,
17190,
17189,
17187,
17192,
17191,
17193,
17194,
17196,
17197,
17199,
17202,
17200,
17195,
17201,
17198,
17203,
17204,
17208,
17206,
17205,
17226,
17213,
17209,
17212,
17224,
17225,
17214,
17221,
17210,
17218,
17222,
17216,
17211,
17227,
17223,
17217,
17230,
17229,
17248,
17252,
17250,
17249,
17247,
17255,
17268,
17241,
17251,
17242,
17256,
17254,
17233,
17266,
17245,
17239,
17246,
17267,
17253,
17220,
17215,
17219,
17228,
17207,
17824,
17825,
17829,
17827,
17826,
17828];
